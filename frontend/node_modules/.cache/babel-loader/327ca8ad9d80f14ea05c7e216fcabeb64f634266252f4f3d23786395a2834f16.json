{"ast":null,"code":"var _jsxFileName = \"/Users/akifumitanabe/Desktop/react /frontend/src/App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useRef, useCallback } from 'react';\nimport { Editor } from '@monaco-editor/react';\nimport io from 'socket.io-client';\nimport { useDrag, useDrop, DndProvider, HTML5Backend } from 'react-dnd';\nimport { Resizable } from 'react-resizable';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DraggableEditor = ({\n  onDrop\n}) => {\n  _s();\n  const ref = useRef(null);\n  const [, drop] = useDrop({\n    accept: 'EDITOR',\n    drop: item => onDrop(item)\n  });\n  const [, drag] = useDrag({\n    type: 'EDITOR',\n    item: {},\n    collect: monitor => ({\n      isDragging: !!monitor.isDragging()\n    })\n  });\n  drag(drop(ref));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: ref,\n    children: /*#__PURE__*/_jsxDEV(Editor, {\n      height: \"500px\",\n      theme: \"vs-dark\",\n      language: \"javascript\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 5\n  }, this);\n};\n_s(DraggableEditor, \"ChJgTn7bHeiPAYSfbK4Kbp5lMnM=\", false, function () {\n  return [useDrop, useDrag];\n});\n_c = DraggableEditor;\nfunction App() {\n  _s2();\n  const [consoleContent, setConsoleContent] = useState('');\n  const socket = useRef(null);\n  const [isExecuting, setIsExecuting] = useState(false);\n  useEffect(() => {\n    return () => {\n      if (socket.current) {\n        socket.current.disconnect();\n      }\n    };\n  }, []);\n  const handleExecute = useCallback(async () => {\n    setIsExecuting(true);\n    const content = editorRef.current.getValue();\n    try {\n      const response = await fetch(\"http://localhost:3001/compile\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          code: content\n        })\n      });\n      const data = await response.json();\n      if (data && data.containerPath) {\n        socket.current = io(`http://localhost:${data.containerPath}`);\n        socket.current.on('s2c_message', msg => {\n          setConsoleContent(msg.value);\n          if (socket.current) {\n            socket.current.disconnect();\n            socket.current = null;\n          }\n        });\n        socket.current.emit('c2s_message', {\n          value: content\n        });\n      } else {\n        console.error(\"Could not retrieve the container path\");\n      }\n    } catch (error) {\n      console.error(\"Error:\", error);\n    }\n    setTimeout(() => setIsExecuting(false), 500);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(DndProvider, {\n    backend: HTML5Backend,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '70%',\n        margin: 'auto',\n        display: 'flex',\n        flexDirection: 'row'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Resizable, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            flex: 1\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Resizable, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            flex: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleExecute,\n            disabled: isExecuting,\n            children: \"Execute\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Editor, {\n            height: \"500px\",\n            theme: \"vs-dark\",\n            language: \"javascript\",\n            onMount: editor => editorRef.current = editor\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: '20px',\n              border: '1px solid #444',\n              height: '200px',\n              overflow: 'auto',\n              backgroundColor: '#111',\n              color: '#eee',\n              padding: '10px'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"pre\", {\n              children: consoleContent\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, this);\n}\n_s2(App, \"jOdfC63De8BX+r9/K4ZYl9hUTwk=\");\n_c2 = App;\nexport default App;\nvar _c, _c2;\n$RefreshReg$(_c, \"DraggableEditor\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"names":["React","useState","useRef","useCallback","Editor","io","useDrag","useDrop","DndProvider","HTML5Backend","Resizable","jsxDEV","_jsxDEV","DraggableEditor","onDrop","_s","ref","drop","accept","item","drag","type","collect","monitor","isDragging","children","height","theme","language","fileName","_jsxFileName","lineNumber","columnNumber","_c","App","_s2","consoleContent","setConsoleContent","socket","isExecuting","setIsExecuting","useEffect","current","disconnect","handleExecute","content","editorRef","getValue","response","fetch","method","headers","body","JSON","stringify","code","data","json","containerPath","on","msg","value","emit","console","error","setTimeout","backend","style","width","margin","display","flexDirection","flex","onClick","disabled","onMount","editor","marginTop","border","overflow","backgroundColor","color","padding","_c2","$RefreshReg$"],"sources":["/Users/akifumitanabe/Desktop/react /frontend/src/App.js"],"sourcesContent":["import React, { useState, useRef, useCallback } from 'react';\nimport { Editor } from '@monaco-editor/react';\nimport io from 'socket.io-client';\nimport { useDrag, useDrop, DndProvider, HTML5Backend } from 'react-dnd';\nimport { Resizable } from 'react-resizable';\n\nconst DraggableEditor = ({ onDrop }) => {\n  const ref = useRef(null);\n  const [, drop] = useDrop({\n    accept: 'EDITOR',\n    drop: (item) => onDrop(item),\n  });\n  const [, drag] = useDrag({\n    type: 'EDITOR',\n    item: {},\n    collect: (monitor) => ({\n      isDragging: !!monitor.isDragging(),\n    }),\n  });\n\n  drag(drop(ref));\n\n  return (\n    <div ref={ref}>\n      <Editor \n        height='500px' \n        theme='vs-dark' \n        language='javascript'\n      />\n    </div>\n  );\n}\n\nfunction App() {\n  const [consoleContent, setConsoleContent] = useState('');\n  const socket = useRef(null);\n  const [isExecuting, setIsExecuting] = useState(false);\n\n  useEffect(() => {\n    return () => {\n      if (socket.current) {\n        socket.current.disconnect();\n      }\n    };\n  }, []);\n\n  const handleExecute = useCallback(async () => {\n    setIsExecuting(true);\n    const content = editorRef.current.getValue();\n    try {\n      const response = await fetch(\"http://localhost:3001/compile\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ code: content }),\n      });\n      const data = await response.json();\n      if (data && data.containerPath) {\n        socket.current = io(`http://localhost:${data.containerPath}`);\n        socket.current.on('s2c_message', (msg) => {\n          setConsoleContent(msg.value);\n          if (socket.current) {\n            socket.current.disconnect();\n            socket.current = null;\n          }\n        });\n        socket.current.emit('c2s_message', { value: content });\n      } else {\n        console.error(\"Could not retrieve the container path\");\n      }\n    } catch (error) {\n      console.error(\"Error:\", error);\n    }\n    setTimeout(() => setIsExecuting(false), 500);\n  }, []);\n  \n\n  return (\n    <DndProvider backend={HTML5Backend}>\n      <div style={{ width: '70%', margin: 'auto', display: 'flex', flexDirection: 'row' }}>\n        <Resizable>\n          <div style={{ flex: 1 }}>\n            {/* Left Panel Contents */}\n          </div>\n        </Resizable>\n        <Resizable>\n          <div style={{ flex: 1 }}>\n            <button onClick={handleExecute} disabled={isExecuting}>Execute</button>\n            <Editor \n              height='500px' \n              theme='vs-dark' \n              language='javascript' \n              onMount={(editor) => editorRef.current = editor} \n            />\n            <div style={{ marginTop: '20px', border: '1px solid #444', height: '200px', overflow: 'auto', backgroundColor: '#111', color: '#eee', padding: '10px' }}>\n              <pre>{consoleContent}</pre>\n            </div>\n          </div>\n        </Resizable>\n      </div>\n    </DndProvider>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}